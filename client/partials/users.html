<div ng-include src="top_bar_url"></div>
<div class="row-fluid content">

    <div class="span3">
        <div class="menu shadow">
            <div>
                <a href="#" class="text-right" ng-click="reloadUsers();">
                    Refresh Users' list <i class="icon-refresh"></i>
                </a>
            </div>
            <ul>
                <li>
                    <input type="text" placeholder="Filter Users..." class="edit-field" ng-model="searchText">
                </li>
                <li ng-repeat="u in usersData | filter:searchText" ng-class="isSelectedUser(u.id);">
                    <a href="#" ng-click="selectUser(u.id);">{{u.username}}
                        <i ng-show="isEditUser(u.id)" class="icon-pencil"></i>
                    </a>
                    <div class="functions">
                        <button class="btn-link function" ng-click="deleteUser(false, u.id);" ng-hide="isDeleteUser(u.id) || isEditUser(u.id)"><i class="icon-remove"></i></button>
                    </div>
                    <div class="confirms">
                        <button class="btn btn-danger confirm" ng-click="deleteProject(true, p.id);" ng-show="isDeleteUser(u.id)">Delete</button>
                        <button class="btn btn-success confirm" ng-click="DB.m.projects[p.id].mode = 'normal';" ng-show="isDeleteUser(u.id)">Keep</button>
                    </div>
                </li>
                <li ng-show="new_project != null" ng-class="isSelectedProject(-1)">
                    <a href="#" ng-click="selectProject(-1);">{{new_project.name}} <i class="icon-edit"></i></a>
                </li>
            </ul>
            <div>
                <a href="#" class="text-right">
                    <button ng-click="newProject();" ng-disabled="new_project != null" class="btn btn-success">New Project</button>
                </a>
            </div>
        </div>
    </div>

</div>